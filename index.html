<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>NÉ™rminimÉ™ SÃ¼rpriz ğŸ¤</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap');

    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #fff0f3 0%, #ffe5ec 100%);
      font-family: 'Lora', serif;
      color: #4a4a4a;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }

    /* --- Arxa fon Ã¼rÉ™klÉ™r --- */
    #hearts-bg {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }
    .heart {
      position: absolute;
      bottom: -40px;
      font-size: 18px;
      opacity: 0.35;
      filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.7));
      animation: floatUp linear forwards;
    }
    @keyframes floatUp {
      from { transform: translateY(0) translateX(0) scale(1) rotate(0deg); }
      to   { transform: translateY(-120vh) translateX(var(--drift)) scale(var(--scale)) rotate(var(--rot)); }
    }

    /* --- Blur Ã¼Ã§Ã¼n wrapper effekti --- */
    .blurred {
      filter: blur(3px);
      transform: scale(0.995);
      transition: 0.25s ease;
    }

    /* --- Cinematic overlay --- */
    #yesOverlay {
      position: fixed;
      inset: 0;
      background: rgba(255, 240, 243, 0.70);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      padding: 20px;
      text-align: center;
    }
    .yesModal {
      background: rgba(255, 255, 255, 0.92);
      border-radius: 22px;
      box-shadow: 0 14px 40px rgba(0,0,0,0.12);
      padding: 26px 22px;
      max-width: 420px;
      width: 100%;
      border: 2px solid rgba(255, 204, 213, 0.65);
      animation: popIn 0.28s ease;
    }
    @keyframes popIn {
      from { transform: scale(0.92); opacity: 0; }
      to   { transform: scale(1); opacity: 1; }
    }
    .yesTitle {
      font-family: 'Dancing Script', cursive;
      color: #d6336c;
      font-size: 2.1rem;
      margin: 0 0 8px 0;
    }
    .yesText {
      margin: 0;
      font-size: 1.05rem;
      line-height: 1.6;
      color: #4a4a4a;
      font-weight: 600;
    }
    .shake { animation: shake 0.35s ease; }
    @keyframes shake {
      0% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
      100% { transform: translateX(0); }
    }

    /* --- Glow highlight (NÉ™rmin) --- */
    .highlight {
      background: linear-gradient(90deg, #ff4d6d, #ff85a1);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-weight: 700;
      text-shadow: 0 0 18px rgba(255, 133, 161, 0.30);
    }

    /* --- Typing caret --- */
    .typing-caret::after {
      content: "â–";
      display: inline-block;
      margin-left: 4px;
      opacity: 1;
      animation: caretBlink 0.9s infinite;
      color: #d6336c;
      font-weight: 700;
    }
    @keyframes caretBlink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }

    /* --- Quiz Paneli --- */
    #quiz-overlay {
      position: fixed;
      inset: 0;
      background: #fff0f3;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      text-align: center;
    }

    .quiz-card {
      background: white;
      padding: 30px;
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    .quiz-card h2 {
      font-family: 'Dancing Script', cursive;
      color: #d6336c;
      font-size: 1.8rem;
      margin-top: 0;
    }

    .option-btn {
      display: block;
      width: 100%;
      margin: 12px 0;
      padding: 14px;
      border: 2px solid #ffccd5;
      border-radius: 50px;
      background: none;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1rem;
      color: #4a4a4a;
      font-weight: 600;
    }
    .option-btn:hover { background: #ffccd5; color: white; border-color: #ffccd5; }

    /* --- AÃ§Ä±q Sual --- */
    #input-container { margin: 20px 0; display: none; }
    input[type="text"] {
      padding: 12px;
      width: 85%;
      border: 2px solid #ffccd5;
      border-radius: 15px;
      font-size: 1rem;
      text-align: center;
      outline: none;
      margin-bottom: 15px;
    }
    .check-btn {
      background: #d6336c;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
    }

    /* --- Ã‡É™hrayÄ± Barmaq Ä°zi --- */
    #fingerprint-section { display: none; text-align: center; }
    .finger-wrapper {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .finger-icon {
      font-size: 90px;
      cursor: pointer;
      user-select: none;
      color: #ff85a1;
      transition: all 0.3s;
      animation: heartBeat 1.5s infinite;
    }
    @keyframes heartBeat {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); filter: drop-shadow(0 0 15px #ff85a1); }
      100% { transform: scale(1); }
    }
    .scanning {
      color: #d6336c !important;
      transform: scale(0.9) !important;
      animation: none !important;
    }

    /* --- Æsas SÉ™hifÉ™ --- */
    #main-content {
      display: none;
      width: 100%;
      padding-bottom: 340px; /* timerBar Ã¼stÃ¼nÃ¼ Ã¶rtmÉ™sin */
      flex-direction: column;
      align-items: center;
      position: relative;
      z-index: 1;
    }

    .letter-container {
      background: white;
      width: 85%;
      max-width: 600px;
      padding: 35px;
      margin: 30px auto;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      display: block !important;
    }

    h1 {
      font-family: 'Dancing Script', cursive;
      color: #d6336c;
      text-align: center;
      font-size: 2.2rem;
    }

    .message-text {
      font-size: 1.05rem;
      line-height: 1.8;
      text-align: justify;
      white-space: pre-line;
      color: #4a4a4a;
    }

    .question-section {
      text-align: center;
      padding: 40px 20px;
      width: 100%;
      min-height: 250px;
      position: relative;
    }

    .btn-group { position: relative; height: 160px; width: 100%; margin-top: 30px; }

    button.main-btn {
      padding: 15px 60px;
      font-size: 1.3rem;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }

    #yesBtn {
      background: #ff4d6d;
      color: white;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 0;
      z-index: 10;
      border: 2px solid white;
    }

    #noBtn {
      background: #f1f3f5;
      color: #888;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 90px;
      transition: all 0.3s ease;
    }

    /* --- SayÄŸac Paneli --- */
    #timerBar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #ff4d6d;
      color: white;
      padding: 20px 0;
      display: none;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
      z-index: 9998;

      /* slide-up */
      transform: translateY(120%);
      transition: transform 0.5s ease;
    }
    #timerBar.show { transform: translateY(0); }

    .timer-box { display: flex; gap: 15px; margin-top: 10px; }
    .time-unit {
      background: rgba(255, 255, 255, 0.25);
      padding: 10px;
      border-radius: 12px;
      text-align: center;
      min-width: 65px;
    }
    .time-val {
      font-size: 1.5rem;
      font-weight: bold;
      display: block;
    }
  </style>
</head>

<body>
  <!-- Arxa fon Ã¼rÉ™klÉ™r -->
  <div id="hearts-bg"></div>

  <!-- HÆ basanda cinematic overlay -->
  <div id="yesOverlay">
    <div class="yesModal">
      <div class="yesTitle">HÉ™miÅŸÉ™ Bir yerdÉ™ Olaq GÃ¶zÉ™lim ğŸ¤</div>
      <p class="yesText"><span class="highlight">NÉ™rmin</span>, bu â€œHÆ!â€ mÉ™nim hÉ™yatÄ±mÄ±n É™n gÃ¶zÉ™l cavabÄ±dÄ±r.</p>
    </div>
  </div>

  <div id="quiz-overlay">
    <div class="quiz-card">
      <h2 id="quiz-title">Salam NÉ™rmin! ğŸ¤</h2>
      <p id="quiz-desc">MÉ™hÉ™mmÉ™din sÉ™nÉ™ bir hÉ™diyyÉ™si var, amma É™vvÉ™lcÉ™ testi keÃ§mÉ™lisÉ™n;)</p>

      <div id="options-container">
        <button class="option-btn" onclick="startQuiz()">HazÄ±ram!</button>
      </div>

      <div id="input-container">
        <input type="text" id="openAnswer" placeholder="CavabÄ± bura yazÄ±n...">
        <br>
        <button class="check-btn" onclick="checkOpenAnswer()">TÉ™sdiqlÉ™</button>
      </div>

      <div id="fingerprint-section">
        <p>NÉ™rmin olduÄŸunuzu sÃ¼but etmÉ™k Ã¼Ã§Ã¼n barmaÄŸÄ±nÄ±zÄ± 2 saniyÉ™ basÄ±b saxlayÄ±n:</p>
        <div class="finger-wrapper">
          <div class="finger-icon" id="fingerBtn"
            onmousedown="holdFinger()" onmouseup="releaseFinger()"
            ontouchstart="holdFinger()" ontouchend="releaseFinger()">â˜ï¸</div>
        </div>
        <p id="scan-status" style="color: #ff85a1; font-weight: bold;">GÃ¶zlÉ™nilir...</p>
      </div>
    </div>
  </div>

  <div id="main-content">
    <div class="letter-container">
      <h1>SÉ™ni Ã§ox sevirÉ™m ğŸ¤</h1>

      <!-- Typing effekti -->
      <div class="message-text typing-caret" id="typedMessage"></div>

      <!-- Orijinal mÉ™tn gizli saxlanÄ±lÄ±r -->
      <div id="messageSource" style="display:none;">
Bu mesaja necÉ™ baÅŸlamaq lazÄ±mdÄ±r heÃ§ bilmirÉ™m, hÉ™r nÉ™ qÉ™dÉ™r sÃ¶zlÉ™r yetÉ™rli olmasa da sÉ™nÉ™ sÉ™ni nÉ™ qÉ™dÉ™r sevdiyimi izah etmÉ™k istÉ™yirÉ™m. SÉ™ninlÉ™ yaÅŸadÄ±ÄŸÄ±m duyÄŸularÄ± Ã¶zÃ¼m belÉ™ anlamÄ±ram, bir qadÄ±n necÉ™ bu qÉ™dÉ™r mÃ¼kÉ™mmÉ™l olar, heÃ§ bir qÃ¼suru necÉ™ olmaz bilmirÉ™m.

MÉ™nim ilk etkilÉ™ndiyim vÉ™ hÉ™lÉ™ dÉ™ heyran olduÄŸum yer xasiyyÉ™tin idi, hÉ™r ÅŸeyinlÉ™ mÉ™nim eynim olduÄŸunu, mÉ™nimlÉ™ uyuÅŸacaÄŸÄ±nÄ± bÉ™lli elÉ™din. Ä°ndi dÉ™ iliÅŸkimizin iÃ§indÉ™ o qÉ™dÉ™r mÃ¼kÉ™mmÉ™l davranÄ±rsan ki, hÉ™r keÃ§É™n gÃ¼n sÉ™ni daha Ã§ox sevirÉ™m. AramÄ±zdakÄ± mÉ™safÉ™lÉ™rÉ™ rÉ™ÄŸmÉ™n, sÉ™ni hÉ™r an yanÄ±mda hiss edirÉ™m.

Hele o dÉ™rslÉ™rinin É™n yorÄŸun vaxtlarÄ±nda belÉ™, o yorÄŸunluÄŸun iÃ§indÉ™ mÉ™nÉ™ ayÄ±rdÄ±ÄŸÄ±n vaxt, gÃ¶stÉ™rdiyin o ilgi mÉ™ni sÉ™nÉ™ daha Ã§ox baÄŸlayÄ±r. SÉ™n mÉ™nim hÉ™yatÄ±ma girÉ™ndÉ™n bÉ™ri Ã¶zÃ¼mÃ¼ dÃ¼nyanÄ±n É™n xoÅŸbÉ™xt insanÄ± hiss edirÉ™m. SÉ™ninlÉ™ hÉ™r ÅŸey daha mÉ™nalÄ±, daha iÅŸÄ±qlÄ±dÄ±r.

Ä°kinci hissÉ™ gÃ¶zÉ™lliyindir, bunun haqqÄ±nda gÃ¼nlÉ™rlÉ™ danÄ±ÅŸa bilÉ™rÉ™m. XÉ™yallarÄ±mÄ±n qadÄ±nÄ± sÉ™nsÉ™n. O qÉ™dÉ™r mÃ¼kÉ™mmÉ™l gÃ¶rÃ¼nÃ¼rsÉ™n ki, gÃ¶zlÉ™rimdÉ™ baÅŸqa qadÄ±nlarÄ± gÃ¶rmÉ™k belÉ™ istÉ™mÉ™mÉ™yimi tÉ™min edÉ™cÉ™k qÉ™dÉ™r mÃ¶htÉ™ÅŸÉ™msÉ™n sÉ™n.

YanaqlarÄ±nÄ± sÄ±xmaq, saÃ§larÄ±nla oynayÄ±b Ã¶pmÉ™k, gÃ¶zlÉ™rini mÉ™nzÉ™rÉ™ É™vÉ™zinÉ™ izlÉ™mÉ™k... BunlarÄ±n hamÄ±sÄ±nÄ± etmÉ™k Ã¼Ã§Ã¼n gÃ¼n sayÄ±ram. YaxÅŸÄ± ki, hÉ™yatÄ±mdasan.
      </div>
    </div>

    <div class="question-section">
      <div class="question-text" style="font-size: 1.5rem; color: #d6336c; font-weight: bold;">
        <span class="highlight">NÉ™rmin</span>, mÉ™nimlÉ™ bir Ã¶mÃ¼r yaÅŸamaq istÉ™yÉ™rsÉ™n? ğŸ¤
      </div>
      <div class="btn-group">
        <button id="yesBtn" class="main-btn">HÆ!</button>
        <button id="noBtn" class="main-btn">Yox</button>
      </div>
    </div>
  </div>

  <div id="timerBar">
    <div class="timer-title" style="font-family: 'Dancing Script', cursive; font-size: 1.6rem;">HÉ™yatÄ±mÄ±za baÅŸladÄ±ÄŸÄ±mÄ±z an ğŸ¤</div>
    <div class="timer-box">
      <div class="time-unit"><span class="time-val" id="days">0</span><span>GÃœN</span></div>
      <div class="time-unit"><span class="time-val" id="hours">00</span><span>SAAT</span></div>
      <div class="time-unit"><span class="time-val" id="minutes">00</span><span>DÆQ</span></div>
      <div class="time-unit"><span class="time-val" id="seconds">00</span><span>SAN</span></div>
    </div>
  </div>

  <script>
    /* ----------------------------
       Arxa fon Ã¼rÉ™klÉ™r (AÄ ğŸ¤)
    ---------------------------- */
    const heartsBg = document.getElementById('hearts-bg');

    function spawnHeart() {
      const el = document.createElement('div');
      el.className = 'heart';
      el.textContent = 'ğŸ¤';

      const left = Math.random() * 100; // vw
      const duration = 6 + Math.random() * 6; // 6-12s
      const drift = (Math.random() * 120 - 60) + 'px'; // -60..60
      const scale = (0.7 + Math.random() * 1.0).toFixed(2);
      const rot = (Math.random() * 80 - 40) + 'deg';

      el.style.left = left + 'vw';
      el.style.animationDuration = duration + 's';
      el.style.setProperty('--drift', drift);
      el.style.setProperty('--scale', scale);
      el.style.setProperty('--rot', rot);
      el.style.opacity = (0.12 + Math.random() * 0.28).toFixed(2);
      el.style.fontSize = (14 + Math.random() * 16).toFixed(0) + 'px';

      heartsBg.appendChild(el);
      setTimeout(() => el.remove(), duration * 1000);
    }

    setInterval(spawnHeart, 450);

    /* ----------------------------
       Typing effect (mÉ™ktub)
    ---------------------------- */
    const typedEl = document.getElementById('typedMessage');
    const sourceText = document.getElementById('messageSource').textContent.trim();

    function escapeHtml(str) {
      return str
        .replaceAll('&', '&amp;')
        .replaceAll('<', '&lt;')
        .replaceAll('>', '&gt;')
        .replaceAll('"', '&quot;')
        .replaceAll("'", '&#039;');
    }

    function renderWithHighlight(fullText) {
      let safe = escapeHtml(fullText);
      safe = safe.replace(/nÉ™rmin/gi, (m) => `<span class="highlight">${m}</span>`);
      safe = safe.replace(/\n/g, '<br>');
      typedEl.innerHTML = safe;
    }

    function typeLetter(text, speed = 18) {
      typedEl.classList.add('typing-caret');
      let i = 0;
      let current = '';

      const timer = setInterval(() => {
        current += text[i];
        typedEl.textContent = current;
        i++;

        if (i >= text.length) {
          clearInterval(timer);
          typedEl.classList.remove('typing-caret');
          renderWithHighlight(text);
        }
      }, speed);
    }

    /* ----------------------------
       Quiz logic
    ---------------------------- */
    const questions = [
      { q: "MÉ™hÉ™mmÉ™din tam adÄ± vÉ™ soyadÄ± nÉ™dir?", a: ["A- MEHEMMED MEHEMMEDLI", "B- MAMI MEHEMMEDLI", "C- MEHEMMEDELI MEHEMMED"], correct: 0 },
      { q: "MÉ™hÉ™mmÉ™d hansÄ± tip boydur?", a: ["A- AZERÄ°", "B- OZBEK", "C- ERMENI"], correct: 1 },
      { q: "MÉ™hÉ™mmÉ™din bu dÃ¼nyada É™n sevdiyi nÉ™dir?", type: "open" }
    ];

    let currentQ = 0;

    function startQuiz() {
      document.getElementById('quiz-desc').style.display = 'none';
      showQuestion();
    }

    function showQuestion() {
      const qData = questions[currentQ];
      document.getElementById('quiz-title').innerText = qData.q;

      if (qData.type === "open") {
        document.getElementById('options-container').style.display = 'none';
        document.getElementById('input-container').style.display = 'block';
      } else {
        let html = "";
        qData.a.forEach((opt, index) => {
          html += `<button class="option-btn" onclick="checkAnswer(${index})">${opt}</button>`;
        });
        document.getElementById('options-container').innerHTML = html;
        document.getElementById('options-container').style.display = 'block';
        document.getElementById('input-container').style.display = 'none';
      }
    }

    function checkAnswer(idx) {
      if (idx === questions[currentQ].correct) {
        currentQ++;
        showQuestion();
      } else {
        alert("SÉ™hvdir! YenidÉ™n yoxla.");
      }
    }

    function checkOpenAnswer() {
      const ans = document.getElementById('openAnswer').value.toLowerCase().trim();
      if (ans === "nermin") {
        document.getElementById('input-container').style.display = 'none';
        showFingerprint();
      } else {
        alert("SÉ™hv cavab!");
      }
    }

    function showFingerprint() {
      document.getElementById('quiz-title').innerText = "Son bir addÄ±m!";
      document.getElementById('fingerprint-section').style.display = 'block';
    }

    let holdTimer;
    function holdFinger() {
      document.getElementById('fingerBtn').classList.add('scanning');
      document.getElementById('scan-status').innerText = "DoÄŸrulanÄ±r...";
      holdTimer = setTimeout(() => {
        document.getElementById('quiz-overlay').style.display = 'none';
        document.getElementById('main-content').style.display = 'flex';
        confetti({ particleCount: 200, spread: 80, origin: { y: 0.7 } });

        // main aÃ§Ä±lan kimi typing baÅŸlasÄ±n
        typedEl.textContent = "";
        typeLetter(sourceText, 18);
      }, 2000);
    }

    function releaseFinger() {
      clearTimeout(holdTimer);
      document.getElementById('fingerBtn').classList.remove('scanning');
      if (document.getElementById('quiz-overlay').style.display !== 'none') {
        document.getElementById('scan-status').innerText = "YarÄ±mÃ§Ä±q qaldÄ±!";
      }
    }

    /* ----------------------------
       NO button qaÃ§ma + YES cinematic
    ---------------------------- */
    const noBtn = document.getElementById('noBtn');
    const yesBtn = document.getElementById('yesBtn');
    const startDate = new Date('February 13, 2026 00:00:00').getTime();

    noBtn.addEventListener('mouseover', () => {
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
      noBtn.style.position = 'fixed';
      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
    });

    yesBtn.addEventListener('click', () => {
      localStorage.setItem('he_basildi', 'true');

      const overlay = document.getElementById('yesOverlay');
      const main = document.getElementById('main-content');

      overlay.style.display = 'flex';
      main.classList.add('blurred');
      document.body.classList.add('shake');

      confetti({ particleCount: 220, spread: 100 });

      setTimeout(() => {
        overlay.style.display = 'none';
        main.classList.remove('blurred');
        document.body.classList.remove('shake');

        startTimer();
        confetti({ particleCount: 250, spread: 110 });
      }, 1800);
    });

    if (localStorage.getItem('he_basildi')) {
      startTimer();
    }

    function startTimer() {
      const bar = document.getElementById('timerBar');
      bar.style.display = 'flex';
      setTimeout(() => bar.classList.add('show'), 10);

      // interval tÉ™krar aÃ§Ä±lmasÄ±n
      if (window.__timerStarted) return;
      window.__timerStarted = true;

      setInterval(() => {
        const diff = new Date().getTime() - startDate;
        document.getElementById('days').innerText = Math.max(0, Math.floor(diff / 86400000));
        document.getElementById('hours').innerText = String(Math.max(0, Math.floor((diff % 86400000) / 3600000))).padStart(2, '0');
        document.getElementById('minutes').innerText = String(Math.max(0, Math.floor((diff % 3600000) / 60000))).padStart(2, '0');
        document.getElementById('seconds').innerText = String(Math.max(0, Math.floor((diff % 60000) / 1000))).padStart(2, '0');
      }, 1000);
    }
  </script>
</body>
</html>
